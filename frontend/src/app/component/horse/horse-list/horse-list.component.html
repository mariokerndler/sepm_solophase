<div class="flex-horizontal full-width">
  <button class="btn btn-primary btn-spacing ms-1" (click)="createHorse()">New Horse</button>
  <button class="btn btn-light ms-1" (click)="reloadHorses()">&#x21bb;</button>
</div>

<div class="search-container">
  <div class="search-title-container">
    <h3>Search Horses</h3>
  </div>

  <div class="search-controls-container">
    <div class="search-row">
      <label for="name-search">Name:</label>
      <input type="text" id="name-search" name="name-search" #nameSearch placeholder="Search by name." [(ngModel)]="searchParameter.name">
    </div>

    <div class="search-row">
      <label for="description-search">Description:</label>
      <input type="text" id="description-search" name="description-search" #descriptionSearch placeholder="Search by description." [(ngModel)]="searchParameter.description">
    </div>

    <div class="search-row">
      <label for="born-after-search">Born after:</label>
      <input type="date" id="born-after-search" name="born-after-filter" #bornAfterSearch [(ngModel)]="searchParameter.bornAfter">
    </div>

    <div class="search-row">
      <label for="gender-search">Gender:</label>
      <ng-select id="gender-search" name="gender-filter" #genderSearch [items]="genders" [(ngModel)]="searchParameter.gender"></ng-select>
    </div>

    <div class="search-row">
      <label for="owner-search">Owner:</label>
      <ng-select id="owner-search" name="owner-search" #ownerSearch [(ngModel)]="searchParameter.ownerId">
        <ng-option *ngFor="let owner of owners | async" [value]="owner.id">
          {{owner.firstname}} {{owner.surname}}
        </ng-option>
      </ng-select>
    </div>

    <button id="search-reset-btn" class="btn btn-dark" (click)="resetSearchQuery()">Reset</button>
  </div>
</div>

<div class="mt-3">
  <table class="table table-hover">
    <thead>
      <th>Name</th>
    </thead>
    <tbody>
      <tr *ngFor="let horse of horses">
        <td class="col-md-7">{{horse.name}} (Born {{horse.birthdate}})</td>
        <td class="col-md-3">
          <button class="btn btn-secondary ms-1" (click)="viewHorse(horse.id)">View</button>
          <button class="btn btn-secondary ms-1" (click)="viewTree(horse.id)">View Tree</button>
          <button class="btn btn-primary ms-1" (click)="editHorse(horse.id)">Edit</button>
          <button class="btn btn-danger ms-1" (click)="deleteHorse(horse.id)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
